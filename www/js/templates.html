<script type="text/html" id="navbarview">
  <div class="navbar-inner">
    <div class="container-fluid">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
      <a class="brand" href="#">xmobile</a>
      <div class="nav-collapse collapse">
        <ul class="nav">
          <li class="home"><a href="#">Home</a></li>
	  <li class="graph"><a href="#graph">Graph</a></li>
	  <li class="rax"><a href="#rax">Rax</a></li>
	  <li class="about"><a href="#about">About</a></li>
        </ul>
        <ul class="nav pull-right">
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">User <b class="caret"></b></a>
            <ul class="dropdown-menu">
	      <li><a href="" target="_blank">Login</a></li>
	      <li><a href="" target="_blank">Settings</a></li>
            </ul>
	  </li>
        </ul>
      </div>
    </div>
  </div>
</script>


<script type="text/html" id="mobileview">
  <div class="navbar-inner">
    <a class="brand" href="#">xmobile</a>
    <ul class="nav">
      <!-- <li class="home"><a href="#">Home</a></li> -->
      <li class="graph"><a href="#graph">D3</a></li>
      <li class="rax"><a href="#rax">CM</a></li>
      <li class="about"><a href="#about">About</a></li>
    </ul>
  </div>
</script>


<script type="text/html" id="sidebarview">
  <ul class="nav nav-list">
    <li class="nav-header">Nav</li>
    <li class="home"><a href="#">Home</a></li>
    <li class="graph"><a href="#graph">Graph</a></li>
    <li class="rax"><a href="#rax">Rax</a></li>
    <li class="about"><a href="#about">About</a></li>
  </ul>
</script>


<script type="text/html" id="homeview">

  <div class="container-fluid">
    <div class="row-fluid">
      <div class="span12">
	<div class="hero-unit" style="background-image: url(lib/creativecommonsphotos/maggie_me_desert_photo.jpg); background-repeat:no-repeat;">
	  <p>xmobile: Mobile Visualizations of Rackspace Cloud Monitoring Metrics</p>
	  <p><a class="btn btn-primary btn-large" href="#graph">Proceed to D3</a></p>
	  <p><a class="btn btn-primary btn-large" href="#rax">Proceed to CM</a></p>
	</div>
      </div>
    </div>
  </div>
  
</script>


<script type="text/html" id="aboutview">

  <div class="container-fluid" style="overflow:auto;">

    <div class="row-fluid">
      <div class="span12">
	<img class="about-icon" src="lib/glyphicons_free/glyphicons_375_classic_hammer.png" style="float: left;"/>
	<h4>&nbsp; Acknowledge the Technology and Resources that Enabled this Site</h4>
	<ul>
	  <li><a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a></li>
	  <li><a href="http://documentcloud.github.com/backbone/" target="_blank">Backbone.js</a></li>
	  <li><a href="http://nodejs.org/" target="_blank">Node.js</a></li>
	  <li><a href="http://expressjs.com" target="_blank">Express.js</a></li>
	  <li><a href="http://incubator.apache.org/callback" target="_blank">Apache Cordova</a></li>
	  <li><a href="http://www.phonegap.com" target="_blank">PhoneGap</a></li>
	  <li><a href="http://glyphicons.com/" target="_blank">Glyphicons</a></li>
	  <li><a href="http://jquery.com/" target="_blank">Jquery</a></li>
	  <li><a href="http://d3js.org/" target="_blank">d3.js</a></li>
	  <li><a href="http://nvd3.org/" target="_blank">nvD3.js</a></li>
	  <li><a href="http://underscorejs.org/" target="_blank">Underscore.js</a></li>
	  <li><a href="http://www.flickr.com/photos/maggie-me/6835581528" target="_blank">Creative Commons Flickr Photo: maggie-me</a></li>
	</ul>
      </div>
    </div>

    <br/>
    
    <div class="row-fluid">
      <div class="span12">
	<img class="about-icon" src="lib/glyphicons_free/glyphicons_200_download.png" style="float: left;"/>
	<h4>&nbsp; Download the source code</h4>
	<p>The source code for this application is available in <a href="https://github.com/dcwangmit01/xmobile">this repository</a> on GitHub.</p>
      </div>
    </div>

    <br/>

    <div class="row-fluid">
      <div class="span12">
	<img class="about-icon" src="lib/glyphicons_free/glyphicons_397_linked_in.png" style="float: left;"/>
	<h4>&nbsp; Find me on LinkedIn</h4>
	<p><a href="http://www.linkedin.com/in/dcwangmit01">http://www.linkedin.com/in/dcwangmit01/</a></p>
      </div>
    </div>

    <br/>

    <div class="row-fluid">
      <div class="span12">
	<img class="about-icon" src="lib/glyphicons_free/glyphicons_330_blog.png" style="float: left;"/>
	<h4>&nbsp; Check out my blog</h4>
	<p><a href="http://www.davidwang.com">http://www.davidwang.com</a></p>
      </div>
    </div>

    <br/>

    <div class="row-fluid">
      <div class="span12">
	<img class="about-icon" src="lib/glyphicons_free/glyphicons_411_twitter.png" style="float: left;"/>
	<h4>&nbsp; Follow me on Twitter</h4>
	<p><a href="http://twitter.com/dcwangmit01">@dcwangmit01</a></p>
      </div>
    </div>

    <br/>

    <div class="row-fluid">
      <div class="span12">
	<img class="about-icon" src="lib/glyphicons_free/glyphicons_351_book_open.png" style="float: left;"/>
	<h4>&nbsp; Read about this Software's License</h4>
	<p><a href="http://opensource.org/licenses/MIT">MIT License</a></p>
      </div>
    </div>

  </div>

</script>


<script type="text/html" id="graphview">

  <div class="container-fluid">
    <div class="row-fluid">
      <svg id="chart1" class="span12"></svg>
    </div>
  </div>

  <script type="text/javascript">
    function exampleData() {
        return stream_layers(3,10+Math.random()*100,.1).map(function(data, i) {
        return { key: 'Stream' + i, values: data };
    });
    }

    var offset = $('#chart1').offset();
    console.log(sprintf('offset left[%s] top[%s]', offset.left, offset.top));
    console.log(sprintf('window height[%s] width[%s]', window.innerHeight, window.innerWidth));
    var height = window.innerHeight - offset.top - 20;
    var options = { height: height, width: '100%' };

    nv.addGraph(function() {
    var chart = nv.models.discreteBarChart();
    
    chart.color(function() { return d3.rgb("violet");});

    chart.xAxis
    .tickFormat(d3.format(',f'));
    
    chart.yAxis
    .tickFormat(d3.format('f'));
    
    d3.select('#chart1')
    .attr("width", options.width)
    .attr("height", options.height)
    .datum(exampleData())
    .transition().duration(500).call(chart);
    
    nv.utils.windowResize(chart.update);
    
    return chart;
    });
  </script>

</script>


<script type="text/html" id="raxview">
  
  <div class="container-fluid">
    
    <div id="signin_row" class="row-fluid">
      <div class="span12">
	<form id="signin" class="form-signin">
	  <h2 class="form-signin-heading">Please sign in</h2>
	  <input id="raxuser" type="text" class="input-block-level" placeholder="Rackspace Username">
	  <input id="raxpass" type="password" class="input-block-level" placeholder="Rackspace Password">
	  <label class="checkbox">
	    <input id="raxsave" type="checkbox" value="remember-me"> Remember me
	  </label>
	  <button id="raxlogin" class="btn btn-large btn-primary" type="submit">Sign in</button>
	</form>
      </div>
      <div id="alert" class="alert"></div>
    </div>

    
    <div id="metric_row" class="row-fluid" style="display:none">
      <div class="span12">
	<div>Select "Entity -> Check -> Metric"</div>
	<select id="metricList" style="width:100%"></select>
      </div>
    </div>
    
    <div class="row-fluid">
      <svg id="graph" class="span12"></svg>
    </div>

  </div>

</script>


<script type="text/html" id="tpl_metric_option">
  
  <option entityid="<%= data.entity.get('id') %>" checkid="<%= data.check.get('id') %>" metricid="<%= data.metric.get('name') %>">
    <%= data.entity.get('label') %> -> <%= data.check.get('label') %> -> <%= data.metric.get('name') %>
  </option>
  
  
</script>
